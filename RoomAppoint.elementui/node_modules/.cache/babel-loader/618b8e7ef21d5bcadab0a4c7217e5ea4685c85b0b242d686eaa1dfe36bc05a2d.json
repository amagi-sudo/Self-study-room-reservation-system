{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ValidCode from '@/components/Code/canvas.vue';\nexport default {\n  components: {\n    ValidCode\n  },\n  data() {\n    return {\n      formData: {\n        UserName: '',\n        Password: '',\n        Email: '',\n        PhoneNumber: '',\n        Name: '',\n        Code: ''\n      },\n      rules: {\n        UserName: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        Password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        Email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }],\n        PhoneNumber: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          validator: (_, value, callback) => {\n            if (!/^1[3-9]\\d{9}$/.test(value)) callback(new Error('请输入正确的手机号'));else callback();\n          },\n          trigger: 'blur'\n        }],\n        Name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        Code: [{\n          required: true,\n          message: '请输入验证码',\n          trigger: 'blur'\n        }, {\n          validator: (_, value, callback) => {\n            const code = this.$refs.ValidCode.getCode();\n            if (value !== code) callback(new Error('验证码错误'));else callback();\n          },\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted() {\n    this.initStarrySky();\n  },\n  methods: {\n    initStarrySky() {\n      const canvas = document.getElementById('starrySky');\n      const ctx = canvas.getContext('2d');\n      // 设置Canvas覆盖整个屏幕\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n      canvas.style.position = 'fixed';\n      canvas.style.top = '0';\n      canvas.style.left = '0';\n      canvas.style.zIndex = '-1';\n\n      // 动态星星数组\n      const stars = [];\n      const starCount = 200; // 星星数量\n\n      // 生成初始星星\n      for (let i = 0; i < starCount; i++) {\n        stars.push({\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          size: Math.random() * 1.5 + 0.5,\n          // 星星大小范围0.5-2\n          speedX: (Math.random() - 0.5) * 0.5,\n          // 水平速度范围-0.5到0.5\n          speedY: (Math.random() - 0.5) * 0.5 // 垂直速度范围-0.5到0.5\n        });\n      }\n\n      // 动画循环\n      const animate = () => {\n        // 绘制深蓝色背景\n        ctx.fillStyle = '#000033';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        // 更新并绘制星星\n        stars.forEach(star => {\n          // 更新位置\n          star.x += star.speedX;\n          star.y += star.speedY;\n\n          // 超出屏幕时重置位置\n          if (star.x < 0) star.x = canvas.width;\n          if (star.x > canvas.width) star.x = 0;\n          if (star.y < 0) star.y = canvas.height;\n          if (star.y > canvas.height) star.y = 0;\n\n          // 绘制星星（带模糊效果）\n          ctx.beginPath();\n          ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);\n          ctx.fillStyle = '#ffffff';\n          ctx.shadowColor = '#ffffff';\n          ctx.shadowBlur = star.size * 2;\n          ctx.fill();\n        });\n        requestAnimationFrame(animate);\n      };\n      animate();\n\n      // 窗口调整时重新设置Canvas尺寸\n      window.addEventListener('resize', () => {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n      });\n    },\n    async RegisterBtn() {\n      this.$refs.loginForm.validate(async valid => {\n        if (valid) {\n          // 实际使用时替换为真实接口\n          this.$message.success('注册成功！');\n          this.$router.push('/Login');\n        } else {\n          this.$message.error('信息填写有误，请检查');\n          this.$refs.ValidCode.refreshCode();\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["ValidCode","components","data","formData","UserName","Password","Email","PhoneNumber","Name","Code","rules","required","message","trigger","type","validator","_","value","callback","test","Error","code","$refs","getCode","mounted","initStarrySky","methods","canvas","document","getElementById","ctx","getContext","width","window","innerWidth","height","innerHeight","style","position","top","left","zIndex","stars","starCount","i","push","x","Math","random","y","size","speedX","speedY","animate","fillStyle","fillRect","forEach","star","beginPath","arc","PI","shadowColor","shadowBlur","fill","requestAnimationFrame","addEventListener","RegisterBtn","loginForm","validate","valid","$message","success","$router","error","refreshCode"],"sources":["src/views/Register.vue"],"sourcesContent":["<template>\n  <div>\n    <canvas id=\"starrySky\"></canvas>\n    <div class=\"container\">\n      <div class=\"register-box\">\n        <h2 class=\"welcome-title\">用户注册</h2>\n        <el-form ref=\"loginForm\" :model=\"formData\" label-width=\"80px\" label-position=\"left\" :rules=\"rules\">\n          <el-form-item label=\"账号\" prop=\"UserName\">\n            <el-input type=\"text\" v-model.trim=\"formData.UserName\" placeholder=\"请输入账号\" />\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"Password\">\n            <el-input type=\"password\" v-model.trim=\"formData.Password\" placeholder=\"请输入密码\" />\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"Email\">\n            <el-input type=\"email\" v-model.trim=\"formData.Email\" placeholder=\"请输入邮箱\" />\n          </el-form-item>\n          <el-form-item label=\"联系方式\" prop=\"PhoneNumber\">\n            <el-input type=\"tel\" v-model.trim=\"formData.PhoneNumber\" placeholder=\"请输入11位手机号\" />\n          </el-form-item>\n          <el-form-item label=\"姓名\" prop=\"Name\">\n            <el-input type=\"text\" v-model.trim=\"formData.Name\" placeholder=\"请输入姓名\" />\n          </el-form-item>\n          <el-form-item label=\"验证码\" prop=\"Code\">\n            <div class=\"code-container\">\n              <el-input type=\"text\" v-model.trim=\"formData.Code\" placeholder=\"请输入验证码\" />\n              <div class=\"valid-code\">\n                <ValidCode ref=\"ValidCode\" />\n              </div>\n            </div>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"RegisterBtn\" class=\"register-btn\">注 册</el-button>\n          </el-form-item>\n        </el-form>\n        <div class=\"login-link\">\n          已有账号？<RouterLink :to=\"{ path: '/Login' }\">立即登录</RouterLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ValidCode from '@/components/Code/canvas.vue'\n\nexport default {\n  components: { ValidCode },\n  data() {\n    return {\n      formData: {\n        UserName: '',\n        Password: '',\n        Email: '',\n        PhoneNumber: '',\n        Name: '',\n        Code: ''\n      },\n      rules: {\n        UserName: [{ required: true, message: '请输入账号', trigger: 'blur' }],\n        Password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        Email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        PhoneNumber: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          {\n            validator: (_, value, callback) => {\n              if (!/^1[3-9]\\d{9}$/.test(value)) callback(new Error('请输入正确的手机号'));\n              else callback();\n            }, trigger: 'blur'\n          }\n        ],\n        Name: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n        Code: [\n          { required: true, message: '请输入验证码', trigger: 'blur' },\n          {\n            validator: (_, value, callback) => {\n              const code = this.$refs.ValidCode.getCode()\n              if (value !== code) callback(new Error('验证码错误'));\n              else callback();\n            }, trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.initStarrySky()\n  },\n  methods: {\n    initStarrySky() {\n      const canvas = document.getElementById('starrySky')\n      const ctx = canvas.getContext('2d')\n      // 设置Canvas覆盖整个屏幕\n      canvas.width = window.innerWidth\n      canvas.height = window.innerHeight\n      canvas.style.position = 'fixed'\n      canvas.style.top = '0'\n      canvas.style.left = '0'\n      canvas.style.zIndex = '-1'\n\n      // 动态星星数组\n      const stars = []\n      const starCount = 200 // 星星数量\n\n      // 生成初始星星\n      for (let i = 0; i < starCount; i++) {\n        stars.push({\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          size: Math.random() * 1.5 + 0.5, // 星星大小范围0.5-2\n          speedX: (Math.random() - 0.5) * 0.5, // 水平速度范围-0.5到0.5\n          speedY: (Math.random() - 0.5) * 0.5 // 垂直速度范围-0.5到0.5\n        })\n      }\n\n      // 动画循环\n      const animate = () => {\n        // 绘制深蓝色背景\n        ctx.fillStyle = '#000033'\n        ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n        // 更新并绘制星星\n        stars.forEach(star => {\n          // 更新位置\n          star.x += star.speedX\n          star.y += star.speedY\n\n          // 超出屏幕时重置位置\n          if (star.x < 0) star.x = canvas.width\n          if (star.x > canvas.width) star.x = 0\n          if (star.y < 0) star.y = canvas.height\n          if (star.y > canvas.height) star.y = 0\n\n          // 绘制星星（带模糊效果）\n          ctx.beginPath()\n          ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2)\n          ctx.fillStyle = '#ffffff'\n          ctx.shadowColor = '#ffffff'\n          ctx.shadowBlur = star.size * 2\n          ctx.fill()\n        })\n\n        requestAnimationFrame(animate)\n      }\n\n      animate()\n\n      // 窗口调整时重新设置Canvas尺寸\n      window.addEventListener('resize', () => {\n        canvas.width = window.innerWidth\n        canvas.height = window.innerHeight\n      })\n    },\n    async RegisterBtn() {\n      this.$refs.loginForm.validate(async (valid) => {\n        if (valid) {\n          // 实际使用时替换为真实接口\n          this.$message.success('注册成功！')\n          this.$router.push('/Login')\n        } else {\n          this.$message.error('信息填写有误，请检查')\n          this.$refs.ValidCode.refreshCode()\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.register-box {\n  background: rgba(255, 255, 255, 0.95);\n  padding: 40px 50px;\n  border-radius: 15px;\n  box-shadow: 0 12px 30px rgba(0, 0, 51, 0.2);\n  width: 420px;\n}\n\n.welcome-title {\n  font-size: 24px;\n  font-weight: 600;\n  color: #000033;\n  text-align: center;\n  margin-bottom: 30px;\n  letter-spacing: 1px;\n}\n\n.el-form-item {\n  margin-bottom: 20px;\n}\n\n.el-input__inner {\n  height: 44px;\n  border-radius: 8px;\n  border: 1px solid #e0e6ed;\n  font-size: 15px;\n  transition: all 0.3s ease;\n}\n\n.el-input__inner:focus {\n  border-color: #4f6d7a;\n  box-shadow: 0 0 0 3px rgba(79, 109, 122, 0.1);\n}\n\n.code-container {\n  display: flex;\n  gap: 15px;\n}\n\n.valid-code {\n  flex-shrink: 0;\n  width: 120px;\n  height: 44px;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.register-btn {\n  height: 48px;\n  font-size: 16px;\n  border-radius: 8px;\n  background-color: #4f6d7a;\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.register-btn:hover {\n  background-color: #6a8b9a;\n  transform: translateY(-2px);\n}\n\n.login-link {\n  text-align: center;\n  margin-top: 20px;\n  font-size: 14px;\n  color: #666;\n}\n\n.login-link RouterLink {\n  color: #4f6d7a;\n  font-weight: 500;\n  margin-left: 5px;\n  transition: color 0.3s ease;\n}\n\n.login-link RouterLink:hover {\n  color: #6a8b9a;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}