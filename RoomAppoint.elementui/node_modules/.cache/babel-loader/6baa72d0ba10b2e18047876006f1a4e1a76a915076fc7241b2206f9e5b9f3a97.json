{"ast":null,"code":"import { FullConvertUrlArray } from \"@/utils/comm\";\nimport store from \"@/store\";\nexport default {\n  props: {\n    url: {\n      type: String,\n      //默认的文件路径\n      default: \"\"\n    }\n  },\n  watch: {},\n  data() {\n    return {\n      show: false,\n      files: []\n    };\n  },\n  created() {\n    let files = FullConvertUrlArray(this.url);\n    this.files = files;\n  },\n  methods: {\n    ShowImport() {\n      if (!this.url) {\n        this.$message({\n          message: '请先完成资源上传!',\n          type: 'warning'\n        });\n        return;\n      }\n      this.show = true;\n    },\n    Down(index) {\n      window.open(this.files[index].url, '_blank');\n    }\n  }\n};","map":{"version":3,"names":["FullConvertUrlArray","store","props","url","type","String","default","watch","data","show","files","created","methods","ShowImport","$message","message","Down","index","window","open"],"sources":["src/components/Tables/FilesLinkButton.vue"],"sourcesContent":["<template>\r\n    <span style=\"margin-left:10px;margin-right: 10px;\">\r\n        <el-button type=\"text\" icon=\"el-icon-share\" @click=\"ShowImport()\">文件查看</el-button>\r\n        <el-dialog title=\"文件查看\" :visible.sync=\"show\" width=\"70%\" :lock-scroll=\"true\" height=\"800px\">\r\n            <el-table :data=\"files\" style=\"width: 100%\">\r\n                <el-table-column prop=\"name\" label=\"文件名称\" align=\"center\">\r\n\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag>{{ scope.row.name }}</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"type\" label=\"文件类型\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag type=\"success\">{{ scope.row.type }}</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" icon=\"el-icon-download\" @click=\"Down(scope.$index)\">下载</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n    FullConvertUrlArray\r\n} from \"@/utils/comm\"\r\nimport store from \"@/store\";\r\nexport default {\r\n\r\n    props: {\r\n\r\n        url: {\r\n            type: String,//默认的文件路径\r\n            default: \"\",\r\n        },\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            show: false,\r\n            files: []\r\n\r\n        }\r\n    },\r\n    created() {\r\n        let files = FullConvertUrlArray(this.url);\r\n        this.files = files;\r\n\r\n\r\n    },\r\n    methods: {\r\n        ShowImport() {\r\n            if (!this.url) {\r\n                this.$message({\r\n                    message: '请先完成资源上传!',\r\n                    type: 'warning'\r\n                });\r\n                return;\r\n            }\r\n            this.show = true;\r\n        },\r\n        Down(index) {\r\n            window.open(this.files[index].url, '_blank')\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n</script>"],"mappings":"AA8BA,SACAA,mBAAA,QACA;AACA,OAAAC,KAAA;AACA;EAEAC,KAAA;IAEAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA,GAEA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,KAAA;IAEA;EACA;EACAC,QAAA;IACA,IAAAD,KAAA,GAAAV,mBAAA,MAAAG,GAAA;IACA,KAAAO,KAAA,GAAAA,KAAA;EAGA;EACAE,OAAA;IACAC,WAAA;MACA,UAAAV,GAAA;QACA,KAAAW,QAAA;UACAC,OAAA;UACAX,IAAA;QACA;QACA;MACA;MACA,KAAAK,IAAA;IACA;IACAO,KAAAC,KAAA;MACAC,MAAA,CAAAC,IAAA,MAAAT,KAAA,CAAAO,KAAA,EAAAd,GAAA;IAEA;EAGA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}