"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[351],{2351:function(r,s,e){e.r(s),e.d(s,{default:function(){return m}});var t=function(){var r=this,s=r._self._c;return s("div",[s("el-card",{staticClass:"margin-top-sm"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("h2",[r._v("修改密码")])]),s("div",[s("el-form",{ref:"editModalForm",attrs:{model:r.formData,"label-width":"80px",size:"mini",rules:r.rules}},[s("el-form-item",{attrs:{label:"原始密码",prop:"OrginPassword",placeholder:"请输入原始密码"}},[s("el-input",{attrs:{type:"password"},model:{value:r.formData.OrginPassword,callback:function(s){r.$set(r.formData,"OrginPassword","string"===typeof s?s.trim():s)},expression:"formData.OrginPassword"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"NewPassword",placeholder:"请输入原始密码"}},[s("el-input",{attrs:{type:"password"},model:{value:r.formData.NewPassword,callback:function(s){r.$set(r.formData,"NewPassword","string"===typeof s?s.trim():s)},expression:"formData.NewPassword"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"TwoPassword",placeholder:"请输入原始密码"}},[s("el-input",{attrs:{type:"password"},model:{value:r.formData.TwoPassword,callback:function(s){r.$set(r.formData,"TwoPassword","string"===typeof s?s.trim():s)},expression:"formData.TwoPassword"}})],1)],1),s("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[s("el-button",{attrs:{type:"primary"},on:{click:r.CreateOrEdit}},[r._v("确 定")])],1)],1)])],1)},a=[],o=(e(4114),e(5129)),i=e(3518),l={computed:{...(0,i.L8)(["UserInfo","UserId"])},data(){return{formData:{},rules:{TwoPassword:[{required:!0,message:"该项为必填项",trigger:"blur"}],OrginPassword:[{required:!0,message:"该项为必填项",trigger:"blur"}],NewPassword:[{required:!0,message:"该项为必填项",trigger:"blur"}]}}},created(){},methods:{async CreateOrEdit(){this.$refs.editModalForm.validate((async r=>{if(!r)return console.log("error submit!!"),!1;{if(this.UserInfo.Password!=this.formData.OrginPassword)return void this.$message.error("原始密码错误");if(this.formData.TwoPassword!=this.formData.NewPassword)return void this.$message.error("确认密码和新密码不一致");this.formData.Password==this.formData.TwoPassword&&this.$message.error("原始密码和新密码不能相同"),this.UserInfo.Password=this.formData.TwoPassword;let{Success:r,Msg:s,Data:e}=await this.$Post("/User/CreateOrEdit",this.UserInfo);r&&(this.$message.success("修改成功!"),o.A.dispatch("Logout"),this.$router.push({path:"/Login"}))}}))}}},d=l,n=e(1656),f=(0,n.A)(d,t,a,!1,null,null,null),m=f.exports}}]);
//# sourceMappingURL=351.d92a1074.js.map